<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Prueba de Pastelería y Cocina</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #f3f4f6;
      color: #111827;
    }
    header {
      background: #111827;
      color: #f9fafb;
      padding: 16px 24px;
    }
    header h1 {
      margin: 0;
      font-size: 1.4rem;
    }
    header p {
      margin: 4px 0 0;
      font-size: 0.9rem;
      opacity: 0.85;
    }
    main {
      max-width: 960px;
      margin: 0 auto;
      padding: 16px;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 16px;
      align-items: center;
    }
    button {
      border: none;
      border-radius: 999px;
      padding: 8px 16px;
      font-size: 0.9rem;
      cursor: pointer;
      background: #4f46e5;
      color: white;
      transition: transform 0.05s ease, box-shadow 0.05s ease, background 0.2s ease;
      box-shadow: 0 4px 10px rgba(79,70,229,0.35);
    }
    button.secondary {
      background: #e5e7eb;
      color: #111827;
      box-shadow: none;
    }
    button:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(79,70,229,0.4);
    }
    button:active {
      transform: translateY(0);
      box-shadow: 0 2px 6px rgba(79,70,229,0.3);
    }
    .meta {
      font-size: 0.85rem;
      color: #4b5563;
    }
    .question-card {
      background: white;
      border-radius: 16px;
      padding: 16px 18px;
      margin-bottom: 12px;
      box-shadow: 0 1px 4px rgba(15,23,42,0.08);
      border-left: 4px solid transparent;
    }
    .question-title {
      font-weight: 600;
      margin-bottom: 8px;
    }
    .options {
      display: grid;
      gap: 6px;
      margin-top: 4px;
    }
    .option-label {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 8px;
      border-radius: 999px;
      cursor: pointer;
      transition: background 0.15s ease, transform 0.05s ease;
    }
    .option-label:hover {
      background: #f3f4ff;
      transform: translateY(-1px);
    }
    .option-label input {
      accent-color: #4f46e5;
    }
    .question-card.correct {
      border-left-color: #16a34a;
      background: #ecfdf3;
    }
    .question-card.incorrect {
      border-left-color: #dc2626;
      background: #fef2f2;
    }
    .feedback {
      margin-top: 4px;
      font-size: 0.8rem;
      color: #374151;
    }
    #results {
      margin-top: 16px;
      padding: 12px 14px;
      border-radius: 12px;
      background: #111827;
      color: #f9fafb;
      font-size: 0.9rem;
      display: none;
    }
    #results span {
      font-weight: 600;
    }
    @media (max-width: 640px) {
      main { padding: 12px; }
      .question-card { padding: 12px 14px; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Prueba de Pastelería & Cocina</h1>
    <p>Banco de preguntas de tus apuntes. Cada prueba usa hasta 40 preguntas al azar, sin repetir.</p>
  </header>
  <main>
    <section class="controls">
      <button id="newQuizBtn">Nuevo examen (40 preguntas)</button>
      <button id="submitBtn" class="secondary">Corregir respuestas</button>
      <div class="meta" id="metaInfo"></div>
    </section>

    <section id="quizContainer"></section>

    <section id="results"></section>
  </main>

  <script>
    // === BANCO DE PREGUNTAS ===
    // Puedes editar, agregar o borrar preguntas.
    // Estructura: { question: "...", options: ["A","B","C","D"], correct: índiceCorrecto }

    const QUESTIONS = [
      {
        question: "¿Cuándo se forma el gluten en la harina de trigo?",
        options: [
          "Cuando se mezcla con agua y se amasa",
          "Cuando se hornea la masa",
          "Cuando se agrega azúcar",
          "Al enfriar en la heladera"
        ],
        correct: 0
      },
      {
        question: "¿Qué harina se denomina 'de fuerza'?",
        options: [
          "La que tiene más proteínas y desarrolla más gluten",
          "La que tiene más almidón",
          "La que tiene menos gluten",
          "La integral de centeno"
        ],
        correct: 0
      },
      {
        question: "¿Qué harina eligen los pasteleros para preparaciones finas?",
        options: [
          "0000, muy refinada y de textura fina",
          "000, gruesa y con mucho gluten",
          "Harina integral",
          "Harina de maíz"
        ],
        correct: 0
      },
      {
        question: "Freír es…",
        options: [
          "Cocinar en grasa caliente con el alimento sumergido",
          "Cocinar al vapor",
          "Cocinar en agua a baja temperatura",
          "Cocinar sin materia grasa"
        ],
        correct: 0
      },
      {
        question: "Confit ar consiste en…",
        options: [
          "Cocinar en grasa a baja temperatura durante tiempo prolongado",
          "Cocinar con poco aceite a fuego fuerte",
          "Cocinar en agua hirviendo",
          "Cocinar en horno seco a alta temperatura"
        ],
        correct: 0
      },
      {
        question: "Sudar (en cocina) significa…",
        options: [
          "Cocinar sin dorar para ablandar el alimento",
          "Cocinar a la parrilla",
          "Hervir a borbotones",
          "Flambear con alcohol"
        ],
        correct: 0
      },
      {
        question: "Asar es…",
        options: [
          "Cocinar con calor directo",
          "Cocinar al baño María",
          "Cocinar en fritura profunda",
          "Cocinar al vapor"
        ],
        correct: 0
      },
      {
        question: "Hornear es…",
        options: [
          "Cocinar con calor seco, sin líquido y generalmente sin grasas",
          "Cocinar en agua hirviendo",
          "Cocinar en aceite profundo",
          "Cocinar en olla a presión"
        ],
        correct: 0
      },
      {
        question: "Método de cocción por concentración:",
        options: [
          "Conserva sabores y nutrientes dentro del alimento usando calor alto",
          "Extrae sabores al líquido usando calor bajo",
          "Mezcla cocción en seco y en medio líquido",
          "Solo se usa para verduras de hoja"
        ],
        correct: 0
      },
      {
        question: "Método de cocción por extracción:",
        options: [
          "Saca sabores y nutrientes hacia el líquido de cocción",
          "Conserva todo dentro del alimento",
          "Solo aplica a frituras",
          "Solo se usa en pastelería"
        ],
        correct: 0
      },
      {
        question: "Método de cocción mixto:",
        options: [
          "Combina concentración y extracción en una misma preparación",
          "Es igual a hervir",
          "Es igual a freír",
          "Solo se hace en microondas"
        ],
        correct: 0
      },
      {
        question: "Corte en juliana se describe como…",
        options: [
          "Tiras finas y largas de 2 mm aprox.",
          "Cubos pequeños de 3 mm",
          "Láminas muy finas de hoja",
          "Cubos grandes de 2 cm"
        ],
        correct: 0
      },
      {
        question: "El corte brunoise es…",
        options: [
          "Dados pequeños y regulares",
          "Tiras largas",
          "Rebanadas gruesas",
          "Rodajas diagonales"
        ],
        correct: 0
      },
      {
        question: "En un batido liviano para pionono, la relación por huevo suele ser…",
        options: [
          "1 huevo : 20 g azúcar : 20 g harina",
          "1 huevo : 10 g azúcar : 10 g harina",
          "1 huevo : 40 g azúcar : 40 g harina",
          "1 huevo : 60 g azúcar : 60 g harina"
        ],
        correct: 0
      },
      {
        question: "¿Qué es una masa quebrada?",
        options: [
          "Masa crujiente con harina, manteca, poca agua y poco amasado",
          "Masa muy hidratada y elástica",
          "Masa hojaldrada por laminado",
          "Masa batida liviana"
        ],
        correct: 0
      },
      {
        question: "Una característica importante de la masa quebrada es…",
        options: [
          "Baja elasticidad y poco desarrollo de gluten",
          "Altísima elasticidad",
          "Gran volumen alveolado",
          "Se trabaja siempre caliente"
        ],
        correct: 0
      },
      {
        question: "Relación clara/azúcar típica para merengue (base):",
        options: [
          "1 parte de claras : 2 partes de azúcar",
          "1 parte de claras : 1 parte de azúcar",
          "2 partes de claras : 1 parte de azúcar",
          "1 parte de claras : 3 partes de azúcar"
        ],
        correct: 0
      },
      {
        question: "El merengue francés se caracteriza por…",
        options: [
          "Batido en frío, rápido y simple",
          "Batido a baño María",
          "Agregar almíbar caliente",
          "No lleva azúcar"
        ],
        correct: 0
      },
      {
        question: "El merengue suizo se realiza…",
        options: [
          "Batiento claras y azúcar a baño María hasta 50–60 °C",
          "Solo en frío",
          "Con almíbar a 121 °C",
          "En horno muy caliente"
        ],
        correct: 0
      },
      {
        question: "El merengue italiano se prepara…",
        options: [
          "Agregando almíbar caliente (118–121 °C) sobre las claras batidas",
          "Solo batiendo claras con azúcar en frío",
          "Solo con azúcar impalpable",
          "En baño María sin almíbar"
        ],
        correct: 0
      },
      {
        question: "¿Qué función cumple el azúcar en un merengue?",
        options: [
          "Estabiliza las claras y aporta volumen y textura",
          "Solo endulza, nada más",
          "Solo cambia el color",
          "Baja el punto de cocción del huevo"
        ],
        correct: 0
      },
      {
        question: "¿A qué temperatura aproximada muere la levadura por completo?",
        options: [
          "55–60 °C",
          "20–25 °C",
          "10 °C",
          "30–35 °C"
        ],
        correct: 0
      },
      {
        question: "Temperatura ideal para el desarrollo de levadura en panificación",
        options: [
          "24–28 °C",
          "0–4 °C",
          "40–45 °C",
          "60–70 °C"
        ],
        correct: 0
      },
      {
        question: "¿Qué es la levadura en términos biológicos?",
        options: [
          "Un hongo unicelular vivo",
          "Un mineral",
          "Una bacteria láctica",
          "Un alga verde"
        ],
        correct: 0
      },
      {
        question: "¿Cuántos tipos básicos de levadura de panadería se usan comúnmente?",
        options: [
          "Dos: fresca y seca",
          "Solo una: seca",
          "Tres: fresca, seca e instantánea (no, es forma de seca)",
          "Ninguna, solo masa madre"
        ],
        correct: 0
      },
      {
        question: "¿Qué ingrediente determina que una masa quebrada sea pesada, media o liviana?",
        options: [
          "La proporción de materia grasa",
          "La cantidad de agua",
          "El tipo de harina",
          "La sal"
        ],
        correct: 0
      },
      {
        question: "Máximo de polvo de hornear recomendado en un batido pesado (respecto al peso total)",
        options: [
          "Hasta alrededor del 3 %",
          "Hasta 10 %",
          "No tiene límite",
          "Solo 0,1 %"
        ],
        correct: 0
      },
      {
        question: "¿Qué significa nacarar el arroz de un risotto?",
        options: [
          "Sofreír ligeramente el arroz sin dorar",
          "Hervir el arroz en abundante agua",
          "Tostar el arroz hasta que quede marrón",
          "Remojar el arroz en agua fría"
        ],
        correct: 0
      },
      {
        question: "En masas de facturas con hojaldre de levadura, un esquema clásico de vueltas es…",
        options: [
          "3 vueltas simples + 1 doble",
          "1 sola vuelta",
          "10 vueltas simples",
          "Sin vueltas, solo amasado"
        ],
        correct: 0
      },
      {
        question: "¿Qué es un roux?",
        options: [
          "Mezcla cocida de harina y materia grasa",
          "Mezcla de leche y huevo",
          "Batido de claras y azúcar",
          "Reducción de vino tinto"
        ],
        correct: 0
      },
      {
        question: "Proporción clásica para un roux estándar es…",
        options: [
          "Cantidad igual de harina y manteca",
          "Doble de harina que manteca",
          "Solo harina sin grasa",
          "Solo grasa sin harina"
        ],
        correct: 0
      },
      {
        question: "¿Qué combinación de temperaturas ayuda a evitar grumos al ligar con roux?",
        options: [
          "Líquido caliente con roux frío o líquido frío con roux caliente",
          "Ambos muy fríos",
          "Ambos muy calientes siempre",
          "No importa, nunca hace grumos"
        ],
        correct: 0
      },
      {
        question: "¿Qué es un soufflé?",
        options: [
          "Preparación dulce o salada con base aireada, generalmente claras batidas",
          "Una masa quebrada",
          "Un tipo de merengue",
          "Una salsa fría"
        ],
        correct: 0
      },
      {
        question: "¿Qué es una duxelle?",
        options: [
          "Picado de champiñones con cebolla y manteca, usado como relleno o base",
          "Un tipo de salsa fría de tomate",
          "Un corte de carne vacuna",
          "Una masa hojaldrada"
        ],
        correct: 0
      },
      {
        question: "En una crema inglesa…",
        options: [
          "No lleva almidón y se cocina a 82–85 °C",
          "Lleva mucha maicena",
          "Se cocina hasta hervir fuerte",
          "Se hornea en moldes"
        ],
        correct: 0
      },
      {
        question: "La crema pastelera se diferencia de la inglesa porque…",
        options: [
          "Lleva almidón y se cocina hasta espesar",
          "No lleva azúcar",
          "No se calienta",
          "Siempre va al horno al final"
        ],
        correct: 0
      },
      {
        question: "¿Con qué se espesa la crema pastelera además del huevo?",
        options: [
          "Fécula de maíz (maicena)",
          "Harina leudante",
          "Gelatina en hojas",
          "Solo azúcar"
        ],
        correct: 0
      },
      {
        question: "Función principal de la gelatina en una preparación fría",
        options: [
          "Gelificar y aportar estructura",
          "Colorear la preparación",
          "Aportar sabor fuerte",
          "Aumentar la acidez"
        ],
        correct: 0
      },
      {
        question: "¿Qué tipo de proteína es la gelatina?",
        options: [
          "Proteína de origen animal derivada del colágeno",
          "Proteína vegetal de soja",
          "Proteína láctea",
          "No es proteína, es azúcar"
        ],
        correct: 0
      },
      {
        question: "Ejemplos de cefalópodos son…",
        options: [
          "Pulpo y calamar",
          "Salmón y trucha",
          "Ostra y mejillón",
          "Dorado y bagre"
        ],
        correct: 0
      },
      {
        question: "Un arroz pilaf bien hecho debe quedar…",
        options: [
          "Grano suelto y seco",
          "Pasado y pegajoso",
          "Totalmente hecho puré",
          "Crudo en el centro"
        ],
        correct: 0
      },
      {
        question: "Manteca compuesta es…",
        options: [
          "Manteca amasada con condimentos y formadas en cilindro",
          "Manteca clarificada",
          "Manteca derretida con harina",
          "Manteca mezclada con azúcar"
        ],
        correct: 0
      },
      {
        question: "¿Cuál es una forma correcta de descongelar un ave?",
        options: [
          "En heladera, en la parte baja, lentamente",
          "Sobre la mesada todo el día",
          "Bajo agua caliente",
          "Directo al horno desde el freezer"
        ],
        correct: 0
      },
      {
        question: "En clasificación de pastas, una división básica es…",
        options: [
          "Frescas y secas",
          "Largas y cortas solamente",
          "Rellenas y sin relleno nada más",
          "Con huevo y sin agua"
        ],
        correct: 0
      },
      {
        question: "¿Qué mecanismo de transferencia de calor se da por contacto directo?",
        options: [
          "Conducción",
          "Convección",
          "Radiación",
          "Evaporación"
        ],
        correct: 0
      },
      {
        question: "La convección ocurre principalmente en…",
        options: [
          "Fluidos como agua o aire en movimiento",
          "Superficies metálicas sólidas",
          "Únicamente en vacío",
          "Solo en hornos de microondas"
        ],
        correct: 0
      },
      {
        question: "La radiación es…",
        options: [
          "Transferencia de calor mediante energía radiante",
          "Transferencia por contacto directo",
          "Transferencia química",
          "Otra forma de nombrar la ebullición"
        ],
        correct: 0
      }
    ];

    // === LÓGICA DE EXAMEN ===

    const MAX_PER_EXAM = 40;

    const quizContainer = document.getElementById("quizContainer");
    const newQuizBtn = document.getElementById("newQuizBtn");
    const submitBtn = document.getElementById("submitBtn");
    const resultsEl = document.getElementById("results");
    const metaInfo = document.getElementById("metaInfo");

    let currentExam = [];

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function prepareQuestion(q) {
      const indices = q.options.map((_, i) => i);
      shuffle(indices);
      const shuffledOptions = indices.map(i => q.options[i]);
      const newCorrect = indices.indexOf(q.correct);
      return {
        question: q.question,
        options: shuffledOptions,
        correct: newCorrect
      };
    }

    function buildExam() {
      const pool = QUESTIONS.map(prepareQuestion);
      shuffle(pool);
      const count = Math.min(MAX_PER_EXAM, pool.length);
      currentExam = pool.slice(0, count);

      quizContainer.innerHTML = "";
      resultsEl.style.display = "none";
      resultsEl.textContent = "";

      currentExam.forEach((q, idx) => {
        const card = document.createElement("article");
        card.className = "question-card";
        card.dataset.index = idx;

        const title = document.createElement("div");
        title.className = "question-title";
        title.textContent = `${idx + 1}. ${q.question}`;
        card.appendChild(title);

        const optionsWrap = document.createElement("div");
        optionsWrap.className = "options";

        q.options.forEach((opt, optIdx) => {
          const label = document.createElement("label");
          label.className = "option-label";

          const input = document.createElement("input");
          input.type = "radio";
          input.name = `q${idx}`;
          input.value = optIdx;

          const span = document.createElement("span");
          span.textContent = opt;

          label.appendChild(input);
          label.appendChild(span);
          optionsWrap.appendChild(label);
        });

        const feedback = document.createElement("div");
        feedback.className = "feedback";
        feedback.textContent = "";

        card.appendChild(optionsWrap);
        card.appendChild(feedback);

        quizContainer.appendChild(card);
      });

      metaInfo.textContent = `Preguntas en esta vuelta: ${currentExam.length} (de un banco total de ${QUESTIONS.length}).`;
    }

    function gradeExam() {
      if (!currentExam.length) return;

      let correctCount = 0;

      const cards = quizContainer.querySelectorAll(".question-card");
      cards.forEach(card => {
        card.classList.remove("correct", "incorrect");
        const idx = parseInt(card.dataset.index, 10);
        const q = currentExam[idx];
        const feedback = card.querySelector(".feedback");

        const selected = card.querySelector("input[type=radio]:checked");
        if (!selected) {
          card.classList.add("incorrect");
          feedback.textContent = "No respondiste esta pregunta.";
          return;
        }

        const selectedIdx = parseInt(selected.value, 10);
        if (selectedIdx === q.correct) {
          correctCount++;
          card.classList.add("correct");
          feedback.textContent = "¡Correcto!";
        } else {
          card.classList.add("incorrect");
          const correctText = q.options[q.correct];
          feedback.textContent = `Incorrecto. Respuesta correcta: ${correctText}`;
        }
      });

      const total = currentExam.length;
      const percent = Math.round((correctCount / total) * 100);

      resultsEl.style.display = "block";
      resultsEl.innerHTML = `
        Resultado: <span>${correctCount} / ${total}</span> respuestas correctas
        (${percent}%).<br>
        Podés generar otro examen aleatorio con el botón "Nuevo examen" para seguir practicando.
      `;
    }

    newQuizBtn.addEventListener("click", buildExam);
    submitBtn.addEventListener("click", gradeExam);

    // Generar un examen al cargar
    buildExam();
  </script>
</body>
</html>
